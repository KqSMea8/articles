<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ragozzine | Being bitten by bytes: You may have an image issue</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Being bitten by bytes: You may have an image issue">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://localhost:4000/posts/being-bitten-by-bytes-you-may-have-an-image-issue">
  <meta property="og:description" content="">
  <meta property="og:site_name" content="ragozzine">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="http://localhost:4000/posts/being-bitten-by-bytes-you-may-have-an-image-issue">
  <meta name="twitter:title" content="Being bitten by bytes: You may have an image issue">
  <meta name="twitter:description" content="">

  
    <meta property="og:image" content="http://localhost:4000/assets/og-image-ee46bbc61b334e821e81534b1fd43f3fee6f020ec174b3c2114445695fd48c01.jpg">
    <meta name="twitter:image" content="http://localhost:4000/assets/og-image-ee46bbc61b334e821e81534b1fd43f3fee6f020ec174b3c2114445695fd48c01.jpg">
  

  <link href="http://localhost:4000/feed.xml" type="application/rss+xml" rel="alternate" title="ragozzine Last 10 blog posts" />

  

  
    <link rel="icon" type="image/x-icon" href="/assets/favicon-light-2cfd794b74ebffa30dcd63661f107289222c7f6bda1fc0da56557b968770031c.ico">
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon-light-0cdf67c6ca7ff46c3d0e2ff6e8bb93296cfb90ef5bdf0263bfcc3bf865591865.png">
    <link rel="stylesheet" type="text/css" href="/assets/light-c86fefd2880a0db9519a0d2cf93c65ca0b45397ea26f19a9b38f01b5748f1c6d.css">
  
</head>

<body>
  <main>
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
  <a href="/" class="header-logo" title="ragozzine">ragozzine</a>
  <ul class="header-links">
    
    
      <li>
        <a href="https://twitter.com/_ragozzine" rel="noreferrer noopener" target="_blank" title="Twitter">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter">
  <use href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter" xlink:href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter"></use>
</svg>

        </a>
      </li>
    
    
    
    
      <li>
        <a href="https://github.com/ragozzine" rel="noreferrer noopener" target="_blank" title="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
      <li>
        <a href="https://www.linkedin.com/in/johnragozzine" rel="noreferrer noopener" target="_blank" title="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-linkedin">
  <use href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin" xlink:href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="/feed.xml" rel="noreferrer noopener" target="_blank" title="RSS">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-rss">
  <use href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss" xlink:href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss"></use>
</svg>

        </a>
      </li>
    
  </ul>
</nav>

        <article class="article scrollappear">
          <header class="article-header">
            <h1>Being bitten by bytes: You may have an image issue</h1>
            <p></p>
            <div class="article-list-footer">
              <span class="article-list-date">
                March 1, 2016
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  9 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <p>Collective nouns are single words for a group of things and I love them all (except for “guys”—that’s a bad one). I especially enjoy animal group names. Get three or more bears together, and it’s known as a sleuth. Same with a pride of lions, a bale of turtles, or a romp of otters. <a href="http://birding.about.com/od/birdingglossary/a/groupsofbirds.htm">Bird collectives have the best names</a>: a murder of crows, a chain of bobolinks, a deceit of lapwings.</p>

<p>Group terminology goes further than animals. A collective of houses could be a town. Words group together to form sentences. And a website is nothing more that a collective of files. A pile of files.</p>

<p>In this file pile, some items relate to simple things like font size or color choices. Others control complex things like data tracking and form handling. But surprisingly, more often than not, the largest files in the pile are the ones that do the least: images.</p>

<p>Yup, images. A file that doesn’t really DO anything beyond sitting there looking pretty carries the most heft.</p>

<p><img src="http://41.media.tumblr.com/tumblr_lscoscp0uk1r11y1eo1_500.jpg" alt="" /></p>

<p>When someone visits your site, their browser needs to download every file in your file pile to finish. Typically, this is done linearly by rendering the <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM</a> from the first file up top all the way down to the file caboose. Meaning that, if you have a large file towards the top of your site DOM, that will have to download (more or less) before the next file is attempted, similarly to when you have a lot of downloading files on your laptop or app updates on your phone; there is only so much processing power to download things simultaneously.</p>

<p>If you have an especially large file (like a big, fat image) your visitor’s browsers will need to chug on downloading that before it renders other things, like content, ads, or even some styling.</p>

<p>Part of the strategy to handle this is to organize your DOM into a logical order. For example, you may employ some JavaScript to allow for infinite scrolling (re: when a reader scrolls to the end of the article/post, a new one pops up automagically). If you put this at the top of your DOM, it would block everything else, which is silly since you don’t need it right when the page is loaded. So, a smart web developer will put non-critical JS such as this in a site’s footer—at the bottom of the DOM.</p>

<p>But, we can’t put image files at the end of the DOM; they are often part of the page content and flow and need to be loaded further up the DOM. While there are lots of ways to handle this, a good way to start is to test your site and see what’s taking the most effort to download.</p>

<p>By way of examples, I used <a href="http://www.webpagetest.org/">WebPageTest.org</a> to analyze the following websites to see how other sites handle this issue (if at all). I could have used <a href="http://tools.pingdom.com/fpt/">Pingdom’s Full Page Test</a> or <a href="https://developers.google.com/speed/pagespeed/insights/">Google Developers PageSpeed Insights</a>, but WPT provides pretty pie charts with their results, and pie charts rule the day!</p>

<h2 id="initial-results">Initial Results</h2>

<h3 id="nytimescom">NYTimes.com</h3>
<p>The <a href="http://www.webpagetest.org/breakdown.php?test=160228_7V_D8G">results for NYTimes.com</a> showed 39.6% of the file weight for their homepage being images, which isn’t too bad. But, I am going to lump in their custom fonts. I’m making some assumptions here, but the font files must be things like SVG sprites, so I’m going to include them (they are not typical web fonts so take more to download). I am also willfully IGNORING THE FLASH FILES THEY LOAD because ignoring Flash is the only sensible stance to take; odds are those are ads anyway.</p>

<p><img src="/images/speedtest-nyt.jpg" /></p>

<p><strong>Final Tally: 51.5%</strong> of all files loaded are image files, which is a bit more than half.</p>

<h3 id="whitehousegov">Whitehouse.gov</h3>
<p>Since it’s election season, I <a href="http://www.webpagetest.org/breakdown.php?test=160228_55_D7F">tested WhiteHouse.gov</a> next. Once you include more pesky SVG fonts, we see that image files make up nearly 3/4 of the total homepage file size, which is pretty staggering. Talk about Washington DC bloat eh? Eh? Moving on…</p>

<p><img src="/images/speedtest-whitehouse.jpg" /></p>

<p><strong>Final Tally: 69.5+%</strong> of the White House’s homepage goes to loading image files.</p>

<h3 id="twitter">Twitter</h3>
<p>Having focused on a publisher and a government site worried more about security than performance, I shifted gears and <a href="http://www.webpagetest.org/breakdown.php?test=160228_GF_D75">tested Twitter</a>. Not logged in and snappy Twitter, but the “Look at all we have to say—come join us” marketing masonry presented to non-logged in visitors. Most of the tweets displayed had images associated, which explains this page’s image heft weighing in at a little over half.</p>

<p><img src="/images/speedtest-twitter.jpg" /></p>

<p><strong>Final Tally: 55.7%</strong> of the files downloaded to display Twitter’s homepage are images.</p>

<h3 id="wikipediaorg">Wikipedia.org</h3>
<p>Stymied by my results thus far, I decided to <a href="http://www.webpagetest.org/breakdown.php?test=160228_49_D5Q">test Wikipedia’s plain ol’ no-language-set homepage</a>, which has nearly no images on it. And despite that fact, it actually came in a little HIGHER than Twitter.</p>

<p><img src="/images/speedtest-wiki.jpg" /></p>

<p><strong>Final Tally: 56.5%</strong> of files fetched to build Wikipedia’s homepage are images.</p>

<h3 id="codepenio">CodePen.io</h3>
<p>I really wanted to find a site with a good balance of files, so I thought, “What’s a site that is made BY web-savvy folks FOR web-savvy folks?” Naturally, I <a href="http://www.webpagetest.org/breakdown.php?test=160228_FD_DAR">thought of Codepen</a> and found something very interesting in its results. Its homepage’s image weight only clocked in at 25.2%, but the fonts requires to display the page came in at a crushing 31.4% (which to me, proves my SVG sprite hypothesis from the NYT site).</p>

<p><img src="/images/speedtest-codepen.jpg" /></p>

<p><strong>Final Tally: 56.6%</strong> of the file weight sprouts from sprites and images.</p>

<h3 id="a-list-apart">A List Apart</h3>
<p>Now, to be fair, Codepen is doing a LOT with their site, so I obviously give them a pass. What about the website that supports so much forward-thinking publishing for the front-end web world: A List Apart. I figured it would be about the same as The New York Times homepage, maybe even lighter given the limited homepage scope. But <a href="http://www.webpagetest.org/breakdown.php?test=160228_J3_D9H">my tests actually came in higher</a>. How much higher?</p>

<p><img src="/images/speedtest-ala.jpg" /></p>

<p><strong>Final Tally: 59.1%</strong> image-file weight for A List Apart’s homepage, potentially higher if we knew what the <em>Other</em> wedge denoted.</p>

<h3 id="drupalorg--wordpressorg">Drupal.org / WordPress.org</h3>
<p>Perhaps the open source community would fare better? I ran speed tests for both <a href="http://www.webpagetest.org/breakdown.php?test=160228_VC_D74">Drupal.org</a> and <a href="http://www.webpagetest.org/breakdown.php?test=160228_KM_D70">WordPress.org</a>. In both cases, what I found surprised me.</p>

<p><img src="/images/speedtest-drupal.jpg" /></p>

<p><img src="/images/speedtest-wp.jpg" /></p>

<p><strong>Final Tally: 69.5% of the files Drupal.org</strong> says you need for their homepage are images, while <strong>49+% of WordPress.org</strong> homepage is made up of image bytes.</p>

<h3 id="flickr">Flickr</h3>
<p>Clearly images are important to all these sites; they’re typically dedicating more than half a browser’s efforts to displaying them. What about a site that is all about images? I <a href="http://www.webpagetest.org/breakdown.php?test=160228_VE_VTF">tested Flickr</a> and it did not disappoint.</p>

<p><img src="/images/speedtest-flickr.jpg" /></p>

<p><strong>Final Tally: 88.4%</strong> of Flickr’s homepage is made up of sweet, sweet images.</p>

<h3 id="webpagetestorg-wpt">WebPageTest.org (WPT)</h3>
<p><em>Quis custodiet ipsos custodes?</em> / Who watches the watchmen?</p>

<p>Putting the shoe on the other foot, my <a href="http://www.webpagetest.org/breakdown.php?test=160228_J4_D8S">final test was on WebPageTest.org</a> itself! Despite the only images being branding and their giant Partners sprite at the bottom of the homepage, the results show that even the watchmen need to go on a diet.</p>

<p><img src="/images/speedtest-wpt.jpg" /></p>

<p><strong>Final Tally: 34.2%</strong> of what loads every time to want to test a site is images.</p>

<h2 id="solutions-upfront-and-after-the-fact">Solutions: Upfront and After the fact</h2>
<p>There are tactics you can employ to put your image file-loading bulk on a diet. Some are done right upfront, while others work for repeat visitors. It’s worth noting that a true web engineer likely has a zillion other suggestions, but here are just a few.</p>

<p><strong>Upfront solutions:</strong></p>
<ul>
  <li>One solution is to simply <strong>be stingy with your use of images</strong>. Eye candy might be ocularly delicious, but be aware of the hurdles images might place between your readers and your content; be critical, especially of images that aren’t part of the content. Design window-dressing might be hurting your UX inadvertently. One helpful tip is to <a href="http://danielmall.com/articles/how-to-make-a-performance-budget/">develop a performance budget</a> as a way of identifying a benchmarked ceiling for your live site.</li>
  <li>Before uploading to your site, <strong>save your images optimally</strong>. Choose reasonably small dimensions and save at the smallest file size possible. #photoshopsave4web4eva If you’ve ever been on a subpar site and had to sit and wait while a thumbnail slowly loads, you are seeing the consequences of not doing that. The 100px square thumbnail was uploaded at 2000px square, forcing the browser to download a huge file that will be displayed teeny tiny. Don’t do that.</li>
  <li>Image files are more than what you see. Compressed images on your site won’t weigh you down too badly.</li>
</ul>

<p><strong>Live Site Solutions:</strong></p>
<ul>
  <li>As I said earlier, some of the dangers of large image files has to do with blocking the DOM; the browser spends time downloading files it doesn’t need yet. A different way of combatting this with images is to <strong>employ lazy loading</strong>. The strategy is to delay downloading the images until the reader needs them (re: once they scroll to the image part of the page content). Think of it as rendering procrastination. If you’re using WordPress, there are many plugins that do this, such as <a href="https://wordpress.org/plugins/lazy-load/">Lazy Load</a>.</li>
  <li>If your site doesn’t have caching, get that going ASAP. My very non-technical assumption on how <strong>page caching</strong> works is, with caching, visitors aren’t downloading all your site files with every page load. Instead, some of those files are saved in the visitor’s browser, so they don’t have to download them again. This makes pages load faster, which is a big plus. It’s like, imagine if every time you wanted to see a beautiful painting, you had to hang the heavy frame on the wall. What an inefficient pain. Let the good stuff stay on the wall all the time with caching.</li>
  <li>Images especially benefit when a site <strong>uses a CDN</strong>. <a href="/what-is-a-cdn-a-simple-visual-explanation.html">I’ve written about CDNs before</a>, but to sum up, it again has to do with downloading files. You see, despite how wondrous our world is, every website file is still stored on a physical server someplace. And, it takes longer to download files the further they are stored from you. “Longer” in this instance may only mean thousandths of a second, but every little bit counts. Use a CDN like CloudFlare or JetPack and get your image files closer to the people who want to load them.</li>
</ul>

<p>So which solution(s) should you employ? To help you focus your efforts, look to WPT’s scoring matrix combined with the second scan they do for every test. Remember, some of the solutions are only workable AFTER a visitor has loaded your site more than once, so the repeat scan results can sometimes be more valuable than the initial ones.</p>

<p>So how did a few select sites do when given a second chance?</p>

<p>Whitehouse.gov and WordPress.org both did much better. While Wikipedia broke even and WPT did worse.</p>

<p><img src="/images/speedtest-whitehouse_REPEAT.jpg" alt="speedtest-whitehouse_REPEAT" /></p>

<p><img src="/images/speedtest-wp_REPEAT.jpg" alt="speedtest-wp_REPEAT" /></p>

<p><img src="/images/speedtest-wiki_REPEAT.jpg" alt="speedtest-wiki_REPEAT" /></p>

<p><img src="/images/speedtest-wpt_REPEAT.jpg" alt="speedtest-wpt_REPEAT" /></p>

<p>Let’s review some scoring to figure out why.</p>

<p><strong>Whitehouse.gov</strong>
<img src="/images/speedtest-whitehouse_SCORE.jpg" alt="speedtest-whitehouse_SCORE" /></p>

<p>Despite not compressing their images, the Whitehouse folks did a good job with page caching and an excellent job with using a CDN. Nearly no images had to be re-downloaded during their second pass.</p>

<p><strong>Wikipedia</strong>
<img src="/images/speedtest-wiki_SCORE.jpg" alt="speedtest-wiki_SCORE" /></p>

<p>Wikipedia scored poorly for caching, and was awarded an “N/A” for compressing of images. The latter means WPT couldn’t “find” any images on the site, which still doesn’t make sense to me. Wikipedia does NOT use a CDN (effectively), so got dinged here as well. That’s why all the images downloaded for the first scan had to be re-downloaded for the second. No es bueno.</p>

<p><strong>WPT</strong>
<img src="/images/speedtest-wpt_SCORE.jpg" alt="speedtest-wpt_SCORE" /></p>

<p>Despite great scores for many categories, WPT scored “worse” for image file percentages (74.8%) for their second scan. I use quotes because it might be math screwing with us. My guess is that the caching combined with the CDN altered the file ratio, making images stick out like a sore, fat thumb. Remember, if all you download is a single file, that’s 100% of what you downloaded. Damn you, math!</p>

<p>To sum up, images aren’t bad things, despite sometimes being worthless eye candy. However, just like with real-life candy, you have to be smart and moderate your intake. Use optimized images in targeted ways and mix in smart caching and a CDN; you don’t need to sacrifice page speed for design elements.</p>

          </div>
          <div class="article-share">
            
            
            <a href="https://twitter.com/home?status=Being+bitten+by+bytes:+You+may+have+an+image+issue%20-%20http://localhost:4000/posts/being-bitten-by-bytes-you-may-have-an-image-issue%20by%20@_ragozzine" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/></svg>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/posts/being-bitten-by-bytes-you-may-have-an-image-issue" title="Share on Facebook" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/></svg>
            </a>
            <a href="https://plus.google.com/share?url=http://localhost:4000/posts/being-bitten-by-bytes-you-may-have-an-image-issue" title="Share on Google+" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 128 128"><path d="M40.7 55.9v16.1c0 0 15.6 0 22 0C59.2 82.5 53.8 88.2 40.7 88.2c-13.3 0-23.7-10.8-23.7-24.2s10.4-24.2 23.7-24.2c7.1 0 11.6 2.5 15.8 5.9 3.3-3.3 3.1-3.8 11.6-11.9 -7.2-6.6-16.8-10.6-27.4-10.6C18.2 23.3 0 41.5 0 64c0 22.5 18.2 40.7 40.7 40.7 33.6 0 41.8-29.3 39-48.8H40.7zM113.9 56.7V42.6h-10.1v14.1H89.4v10.1h14.5v14.5h10.1V66.8H128V56.7H113.9z"/></svg>
            </a>
          </div>

          
        </article>
        <footer class="footer scrollappear">
  <p>
    &copy; <a href="/about" title="about">john ragozzine</a> &#124; built with <a href="https://jekyllrb.com/">Jekyll</a> &#124; forked from
    <a href="https://github.com/nielsenramon/chalk" target="_blank">Nielsen Ramon's chalk</a>
  </p>
</footer>

      </div>
    </div>
  </main>
  

<script type="text/javascript" src="/assets/vendor-77ca29175eb88027e53f89c5c8d6709faffa4d4ce9d9a6cb2a1523ace7fd87aa.js"></script>


  <script type="text/javascript" src="/assets/webfonts-96493456d319d1bf419afdf8701552d4d486fee6afd304897d4fd81eb4e0cc0b.js"></script>



  <script type="text/javascript" src="/assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js"></script>


<script type="text/javascript" src="/assets/application-cfde13ac81ddaf4351b2e739603e2baf688d0fcc9aba613fe62bbb1c7b037fb9.js"></script>

</body>
</html>
